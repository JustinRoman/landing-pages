(function(d,c){var w,n,E;function B(d){var k,p;x.customEventsConfig&&(p=x.customEventsConfig.global,k="customEventsConfig"in x?x.customEventsConfig[d]:{});d=c.merge(k||[],p||[]);for(k=0;k<d.length;k++)if(p=d[k],-1==m.indexOf(p)&&(m.push(p),p&&p in x.eventsLib))x.eventsLib[p](n)}function K(c){if(c){var k=x.checkoutSteps||{},p=d.gtm.customconfig.getEventsLib();if(c in k)k[c](n,!0);else"cart"==c?p.pushCartVirtualpath(n):"confirmation"==c?p.orderConfirmationVirual(n):"register"==c&&p.registrationCheckoutStep(n)}}
E=n=w=void 0;var x={},m=[];d.gtm={initDataLayer:function(k){w=k.config.currentPage;n=k;E=k.config;if(k.pageVariables){-1!=["resset_password"].indexOf(w)&&d.gtm.customconfig.getEventsLib().passwordResetVirtual(n);var m=k.pageVariables;window.dataLayer=window.dataLayer||[];m&&dataLayer.push(m)}k.basketImpressions&&this.setBasketImpressionOnPage(k.basketImpressions);k.productImpressions&&-1!=["product","wishlist"].indexOf(w)&&this.setProductImpressionOnPage(k.productImpressions);k.sampleImpressions&&
this.setSampleImpressionOnPage(k.sampleImpressions);k.orderImpressions&&this.setOrderImpressionOnPage(k.orderImpressions);"currentCoSection"in E&&-1!=["onestepcheckout"].indexOf(w)?x.checkoutSteps=d.gtm.customconfig.getCheckoutSteps():-1!=["cart"].indexOf(w)?K("cart"):-1!=["confirmation"].indexOf(w)?K("confirmation"):-1!=["register"].indexOf(w)&&"source"in k.config&&"checkout"==k.config.source&&K("register");k=(k=k.config)||{};k.checkoutGtmID=k.checkoutGtmID||k.gtmID;k=-1!=["onestepcheckout","checkout",
"ngcheckout"].indexOf(k.currentPage)?k.checkoutGtmID:k.gtmID;m=window;m.dataLayer=m.dataLayer||[];m.dataLayer.push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=document.getElementsByTagName("script")[0],p=document.createElement("script");p.async=!0;p.src="//www.googletagmanager.com/gtm.js?id\x3d"+k+"";m.parentNode.insertBefore(p,m);"customconfig"in d.gtm&&(x.customEventsConfig=d.gtm.customconfig.getEventsConfig(),x.eventsLib=c.extend(!0,x.eventsLib,d.gtm.customconfig.getEventsLib()||{}));
"currentCoSection"in E&&-1!=["onestepcheckout","ngCheckout"].indexOf(w)&&K(E.currentCoSection);B(w);c(document).trigger("gtm.datalayerdone")},setProductImpressionOnPage:function(k){this.productImpressions=this.productImpressions||{};d.gtm.productImpressions&&k&&c.extend(d.gtm.productImpressions,k)},setBasketImpressionOnPage:function(k){this.basketImpressions=this.basketImpressions||{};d.gtm.basketImpressions&&k&&c.extend(d.gtm.basketImpressions,k)},setSampleImpressionOnPage:function(k){this.sampleImpressions=
this.sampleImpressions||{};d.gtm.sampleImpressions&&k&&c.extend(d.gtm.sampleImpressions,k)},setOrderImpressionOnPage:function(k){this.orderImpressions=this.orderImpressions||{};d.gtm.orderImpressions&&k&&c.extend(d.gtm.orderImpressions,k)},initCache:function(){w=(void 0).config.currentPage;n=void 0;E=(void 0).config},pushEventData:function(c){window.dataLayer=window.dataLayer||[];dataLayer&&dataLayer.push(c)},pushPageData:function(c){window.dataLayer=window.dataLayer||[];c&&dataLayer.push(c)},initEvents:function(c){B(w||
c)}}})(window.app=window.app||{},jQuery);
(function(d,c){function w(a){var b=[];c(".c-added-to-cart__product-list:not(.js-sample-product-item) span[data-product-impression]").each(function(a,d){d=c(d);a=d.data("productImpression");d=d.data("productImpressionid");a=c.extend({},a[d]);a.quantity=1;b.push(a)});b.length&&F(b,a.config.currencyCode)}function n(){var a=[],b=m();c("[data-promotion-impression]:visible:not(.was-visited)").each(function(d,g){d=c(g);g=d.data("promotionImpression");var e=b?g.pdpPosition:"";Q(d)&&(a.push({id:"content",
name:g.name,creative:b?["product detail page",b].join("::"):g.creative,position:e?e:g.position}),d.addClass("was-visited"))});a.length&&d.gtm.pushEventData({event:"uaevent",eventCategory:"Ecommerce",eventAction:"Promotion Impressions",eventLabel:"Promotion Impressions",ecommerce:{promoView:{promotions:a}}})}function E(){var a=c(this).data("promotionImpression"),b=m(),e=b?a.pdpPosition:"";d.gtm.pushEventData({event:"promotionClick",eventCategory:"Ecommerce",eventAction:"Promotion Click",eventLabel:"Promotion Click",
ecommerce:{promoView:{promotions:[{id:"content",name:a.name,creative:b?["product detail page",b].join("::"):a.creative,position:e?e:a.position}]}}})}function B(a){var b=[];c(".product_tile:visible:not(.was-visited)").each(function(a,d){d=c(d);var e=d.parent().find("[data-product-impression]"),g=d.parents("[data-index]"),f=e.data("productImpression"),e=e.data("productImpressionid");a=g.length?g.data("index"):a+1;Q(d)&&(g=c.extend({},f[e]),g.list="highlight",g.position=a,b.push(g),d.addClass("was-visited"))});
b.length&&v(b,a.config.currencyCode)}function K(a){var b=[],d=c(".js-routine-invisible:visible"),g=d.parents("[data-product-impression-click-container]").find(".product_tile:not(.was-visited)");Q(d)&&g.each(function(a,d){d=c(d);var e=g.parent().find("[data-product-impression]"),h=d.parents("[data-index]"),l=e.data("productImpression"),e=e.data("productImpressionid");a=h.length?h.data("index"):a+1;h=c.extend({},l[e]);h.list="highlight";h.position=a;b.push(h);d.addClass("was-visited")});b.length&&v(b,
a.config.currencyCode)}function x(a,b){b=c(b.currentTarget).find("[data-product-impression]");a=b.data("productImpression");b=b.data("productImpressionid");a=c.extend({},a[b]);y(a,"highlight")}function m(){return q(c(".c-pureshots-pdp__top-section .product_name:first"))}function k(a,b){a=m();d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:["product detail page",a].join("::"),eventAction:"instagram reviews",eventLabel:c(this).data("pureShotsReviews")})}function ka(a){a=c(a.currentTarget);
var b=m(),e=a.hasClass("c-carousel__arrow--right")?"right":"left";d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:["product detail page",b].join("::"),eventAction:q(a.parents(".c-module").find(".c-module__title")),eventLabel:e})}function p(a){var b=c(a.currentTarget);a=m();b=b.hasClass("c-carousel__arrow--right")?"right":"left";d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:["product detail page",a].join("::"),eventAction:"how to",eventLabel:b})}
function la(a){a=c(a.currentTarget);var b=m();d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"product detail page",eventAction:q(a),eventLabel:b})}function ma(a){a=c(a.currentTarget);var b=m();d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:["product detail page",b].join("::"),eventAction:q(a.parents(".js-pureshots-description-tabs").find(".c-description-section__title.ui-state-active")),eventLabel:q(a)})}function na(a){a=c(a.currentTarget);d.gtm.pushEventData({event:"uaevent",
eventCategory:"sample",eventAction:"select::request sample",eventLabel:I(a.data("sampleName")),sampleSku:a.data("sampleSku"),sampleName:I(a.data("sampleName")),sampleCategory:I(a.data("sampleCategory"))})}function oa(a){a=c(a.currentTarget).parents(".c-giveit-shot__wrapper").find(".sample_product");d.gtm.pushEventData({event:"uaevent",eventCategory:"sample",eventAction:"select::request sample",eventLabel:I(a.data("sampleName")),sampleSku:a.data("sampleSku"),sampleName:I(a.data("sampleName")),sampleCategory:I(a.data("sampleCategory"))})}
function pa(a){a=c(a.currentTarget);var b=m();d.gtm.pushEventData({event:"uaevent",eventCategory:["product detail page",b].join("::"),eventAction:q(a),eventLabel:[b+" refill",window.location].join("|")})}function C(a){var b=c(window).scrollTop()+c(window).height();return c(a).offset().top<b}function Q(a){"function"===typeof jQuery&&a instanceof jQuery&&(a=a[0]);if(!a)return!1;a=a.getBoundingClientRect();return 0<=a.top&&0<=a.left&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&
a.right<=(window.innerWidth||document.documentElement.clientWidth)}function r(a,b,c){var d;return function(){var e=this,g=arguments,f=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||a.apply(e,g)},b);f&&a.apply(e,g)}}function t(a){return a.toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim()}function qa(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"summer look",eventAction:"shop now",eventLabel:t(c(this).attr("data-product-name"))})}function ra(){var a=c(this),b=
a.closest("#images-slider").find(".jcarousel-pagination a.active").attr("href").replace("#",""),e=a.closest("#images-slider").find('.contentcarousel_list [data-index\x3d"'+b+'"]').find(".description").text(),g="display";a.hasClass("jcarousel-control-next")?g="next":a.hasClass("jcarousel-control-prev")&&(g="previous");d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"slider",eventAction:g,eventLabel:b+"::"+e.toLowerCase()})}function sa(){var a=c(this).closest(".image-bloc").find(".description").text();
d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"slider",eventAction:"select",eventLabel:a.toLowerCase()})}function ta(){var a=c(this),b;a.hasClass("jcarousel-control-next")?b="next":a.hasClass("jcarousel-control-prev")&&(b="previous");d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"slider",eventAction:b,eventLabel:"shop the collection"})}function ua(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"outbound links",eventAction:"select::instagram",
eventLabel:c(this).attr("href")})}function Z(){var a=c(this),b=c("#univers-slider li.image-bloc").last().data("index"),e=a.closest(".content-container").find('[data-index\x3d"'+b+'"]').find(".image-title").text(),g;a.hasClass("jcarousel-control-next")?g="next":a.hasClass("jcarousel-control-prev")&&(g="previous");d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"slider::universes",eventAction:g,eventLabel:b+"::"+e})}function aa(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",
eventCategory:"summer look",eventAction:"slider::other universes",eventLabel:c(this).closest(".image-bloc").find(".image-title").text()})}function va(a,b){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:a,eventAction:"view the product page",eventLabel:t(c(b.currentTarget).closest("#pdp_section_about").find("h1.product_name").first().text())})}function wa(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"summer look",eventAction:"view the product page",
eventLabel:c(this).closest("#pdp_section_about").find("h1.product_name").first().text().toLowerCase().trim()})}function ba(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"iconic red",eventAction:"select::topic",eventLabel:c(this).closest(".content-global").find(".title h3").text()+"::"+t(c(this).text())})}function ca(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"iconic red",eventAction:"shop now",eventLabel:t(c(this).attr("title"))})}function xa(){d.gtm.pushEventData({event:"uaevent",
ecommerce:"undefined",eventCategory:"iconic red",eventAction:"select::article",eventLabel:"your essentials::"+t(c(this).text())})}function ya(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"iconic red",eventAction:"select::article",eventLabel:"iconic ysl colors::"+t(c(this).text())})}function za(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"iconic red",eventAction:"select::article",eventLabel:"your essentials::"+t(c(this).closest(".details").find(".title a").text())})}
function Aa(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"iconic red",eventAction:"select::article",eventLabel:"iconic ysl colors::"+t(c(this).closest(".content-item").find(".content-item_title a").text())})}function Ba(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"iconic red",eventAction:"view the product page",eventLabel:t(c(this).closest("#pdp_section_about").find("h1.product_name").first().text())})}function da(a){var b=c(this),e=c(".landingpage-module .videos .carousel_navigation_list li.selected").find("a").data("carousel-step"),
g=c(".videos-products-carousel .jcarousel-control").closest(".jcarousel-clip").find("li.contentcarousel_list_item").eq(e-1).find("a.product_name").text(),h;b.hasClass("jcarousel-next")?h="next":b.hasClass("jcarousel-prev")&&(h="previous");d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"slider",eventAction:h,eventLabel:e+"::"+t(g)});N(a,c(".jcarousel-clip-horizontal li.contentcarousel_list_item").eq(e-1).find(".product_tile:not(.was-visited)"),"product slider")}function Ca(a,
b){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:a,eventAction:"view the details",eventLabel:t(c(b.currentTarget).closest(".details").find(".title_large").text())})}function Da(a,b){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:a,eventAction:"shop now",eventLabel:t(c(b.currentTarget).closest(".details").find(".title_large").text())})}function Ea(a,b){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:a,eventAction:c(b.currentTarget).text(),
eventLabel:t(c(b.currentTarget).closest(".details").find(".title_large").text())})}function Fa(){var a=c(this);d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"holiday season",eventAction:"select::discover",eventLabel:t(a.closest(".focus-on-item").find(".hp-subtitle").text())+"::"+t(a.closest(".focus-on-item").find(".hp-title").text())})}function Ga(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"holiday season",eventAction:"shop now",eventLabel:t(c(this).closest(".vertically-centered-desktop").find(".title").text())})}
function Ha(){var a=c(this),b=a.closest(".horizontal_carousel").find(".carousel_navigation_list li.selected a").text();d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"holiday season",eventAction:"select::tools \x26 services",eventLabel:b+"::"+t(a.closest(".vertically-centered-desktop").find(".title").text())})}function S(a,b,e,g,h){var l=c.extend({},g.data("product-impression")[h]);b=c(b);b.on("click","a",function(){d.gtm.pushEventData({event:"productClick",eventCategory:"Product Impressions",
eventAction:"Product Click",ecommerce:{click:{actionField:{list:e},products:[g.data("product-impression")[h]]}}})});l.list=e;l.position=a;d.gtm.setProductImpressionOnPage(l);b.addClass("was-visited");return l}function N(a,b,d){var e=[];b.each(function(a,b){var g=c(b);if(C(b)&&!g.hasClass("was-visited")){var h=g.data("itemid");b=g.parent().find("span[data-product-impression]");var l={};b.each(function(a,b){l=c.extend({},c(b).data("product-impression"))});if(0<b.length){var f=c.extend({},l[h]);f.list=
d;f.position=a+1;e.push(f);g.on("click","a",function(){y(l[h],f.list)});g.addClass("was-visited")}}});e.length&&v(e,a.config.currencyCode)}function Ia(a){var b=1,e=[];c(".mini_cart_empty_recommendations .product_tile").each(function(a,d){a=c(d).parent().find("span[data-product-impression]");var g=a.data("product-impressionid");0<a.length&&(e.push(S(b,d,"cross-mini-cart",a,g)),b++)});e.length&&d.gtm.pushEventData({event:"uaevent",eventCategory:"Ecommerce",eventAction:"Product Impressions",ecommerce:{currencyCode:a.config.currencyCode,
impressions:e}})}function Ja(a){var b=a.orderImpressions.orderDiscount||0,c=0,d=0,h,l;for(l in a.basketImpressions)c+=a.basketImpressions[l].price*a.basketImpressions[l].quantity,d+=("dimension152"in a.basketImpressions[l]?a.basketImpressions[l].dimension152:a.basketImpressions[l].price)*a.basketImpressions[l].quantity;a=(100*(1-(c-b)/d)).toFixed(2);0==a?h="No discount":9>=a?h="discount::inf 9":15>=a?h="discount::10-15":20>=a?h="discount::16-20":30>=a?h="discount::21-30":40>=a?h="discount::31-40":
50>=a?h="discount::41-50":50<a&&(h="discount::sup 51");return h}function U(a,b,e,g,h){var l=[];e.newPosition=c(window).scrollTop();if(h||g||200<Math.abs(e.newPosition-e.currentPosition))c(".hp_favorites_right").find("div.product_tile_wrapper:not(.was-visited):visible").each(function(e,f){if((h||C(f))&&!c(f).hasClass("was-visited")){e=c(f).find("span[data-product-impression]");var A=e.data("product-impressionid");if(0<e.length){d.gtm.setProductImpressionOnPage(e.data("product-impression"));var k=c(this).parents(".favorites_tab_container").attr("id")?
"Highlight":a.config.currentCategory;l.push(S(b,f,k,e,A));b++}}g=!1}),l.length&&(v(l,a.config.currencyCode),e.currentPosition=e.newPosition)}function Ka(){var a=c(this),a=a.hasClass(".title-value")?a:a.parents(".hp-item").find(".title-value");d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"explore by category",eventAction:"select",eventLabel:q(a)})}function ea(){var a=c(this),a=a.hasClass("title-link")?a:a.parents(".tools-service-content").find(".title-link");d.gtm.pushEventData({event:"uaevent",
ecommerce:"undefined",eventCategory:"tools \x26 service",eventAction:"select",eventLabel:q(a)})}function fa(){var a=c(this),a=a.hasClass("title")?a:a.parents(".vertically-centered-mobile").find(".title");d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"find inspiration",eventAction:"select",eventLabel:q(a.find("a"))})}function La(){var a=c(this),a=a.hasClass("title-link")?a:a.parents(".vertically-centered").find(".title-link");d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",
eventCategory:"the lastest how to",eventAction:"select",eventLabel:q(a)})}function ga(){var a=c(".c-hero__item.slick-current").length?c(".c-hero__item.slick-current"):c(".c-hero__item:first"),b=c(".c-hero__item.slick-active").length?c(".c-hero__item.slick-active"):c(".c-hero__item:first"),d=[q(a.find(".c-hero__product-subtitle")),q(a.find(".c-hero__product-title-link"))].join(" "),g=c(".c-hero__item.slick-current").length?a.index():1,a="hero_"+g,h=[],d={id:"slider",name:d,creative:"homepage",position:"slot"+
g};-1==ha.indexOf(a)&&(h.push(d),b.on("click","a",function(){z(h,"Click")}),z(h,"Impressions"),ha.push(a))}function M(a,b){var d=[];a.each(function(a,e){var g=c(e);if(C(e)&&!g.hasClass("was-visited")){a="element"==b.index?g.index():a;e=0<=b.start?b.start:1;var h={id:b.id,name:q(b.parent?g.parents(b.parent).find(b.title):c(b.title)),creative:b.creative,position:"slot"+(a+e)};d.push(h);g.on("click",name,function(){z(h,"Click")});g.addClass("was-visited")}});d.length&&z(d,"Impressions")}function q(a){return I(a.text())}
function I(a){return a.trim().toLowerCase()}function V(a){["category","name"].forEach(function(b){var d;d=a[b];d=c("\x3ctextarea/\x3e").html(d).text();a[b]=d});return a}function O(a){var b,e,g=!1;"product"==d.page.ns&&(b=c(document).find('input[name\x3d"virtualPreviewActive"]'),e=c(document).find('.product_add_to_cart input[name\x3d"pid"]').first(),b.length&&e.length&&a==e.val()&&(g=b.val()));g="yes"==g?"present":"no"==g?"not present":!1;if(0<c(".c-modiface--ready").length||-1<D.indexOf(a))g="activated";
ia();return g}function ia(){var a=u.find('input[name\x3d"vtoStatus"]'),b=u.find('.product_add_to_cart input[name\x3d"pid"]').first();a.length||(u.find(".js_addtocartform").append('\x3cinput type\x3d"hidden" name\x3d"vtoStatus"\x3e'),a=u.find('input[name\x3d"vtoStatus"]'));0<c(".c-modiface__wrap").length?(a.val("present"),(0<u.find(".c-modiface--ready").length||b.length&&-1<D.indexOf(b.val()))&&a.val("activated")):a.val("not present")}function Ma(a,b){a=u.find('.product_add_to_cart input[name\x3d"pid"]').first();
0<u.find(".c-modiface--ready").length&&(a.length&&-1==D.indexOf(a.val())&&D.push(a.val()),b.pid&&-1==D.indexOf(b.pid)&&D.push(b.pid))}function Na(){var a=u.find('.product_add_to_cart input[name\x3d"pid"]').first();0<c(".c-modiface__wrap").length&&a.length&&-1==D.indexOf(a.val())&&D.push(a.val())}var Oa={global:"footerExternalSocialLink productSocialLinksClick quickView dialogEvents newsletterSubscription logIn subscribeLoginSrc addToCart storelocatorSearchEvent updateQuantity addToWishList menuEvents basketImpressions productImpressionsOnPage notifyMeClick notifyMeSubmit minicartCheckoutActions menuPromotionImpressions removeFromMinicart productFindStore reinsuranceElements variationChange findStoreProduct searchbarEvents".split(" "),
homepage:["homepageEvents","osezPartager","homepageMoodBoard","favoriteImpressions","homepageImpressions"],account_show:["accountRegistration"],register:["accountRegistration","registrationCheckoutStep"],wishlist:["wishlistImpresions"],cart:"cartActivity cartCheckoutStep removeFromCart cartYouMayAlsoLikeImpressions cartEvents engravingEvents".split(" "),ngchekcout:["oneStepCheckout"],onestepcheckout:["oneStepCheckout","handleHistory"],confirmation:["orderConfirmation","orderConfirmationAccountCreation"],
contactusform:["contactUsEvent"],storelocator:["storelocatorSearch"],search:["searchEvents","searchImpressions","clpPromotionsImpressions"],product:"productPictures productDetailImpression routineImpression variationChange pdpTabs pdpWriteReview pdpInspiration pdpEvents engravingEvents pdpRoutine pdpPromoImpressions pdpProductImpressions pdpPureShots setVirtualPreviewActive".split(" "),personalEngraving:["productPictures","productDetailImpression","engravingEvents"],Error:["errorPage"],howtovideos:["howToVideosProductImpressions",
"multipleAddToCart"],quiz:["quizResultProductImpressions","rpcQuickProductImpression","quizResults"],landingpage:["landingProductStartImpressions","landingPageCrossSellImpressions","landingPageEvents","landingPageProductSliderImpressions"],landingpagemodules:["landingPageModulesPromotionImpressions","landingPageModulesProductImpressions"],offers:["offers"],yslwidgetpage:["wishlistEvents"],christmascards:["eGiftCardEvents"],tequizquestions:["quizResults"],rpcquizquestions:["quizResults"],boquizquestions:["quizResults"],
giftcertpurchase:["eGiftEvents"],lipcomparator:["lipcomparatorResultProductImpressions"]},ha=[],J=c(window),u=c(document),D=[],Pa={pdpPureShots:function(a){u.on("click","[data-pure-shots-reviews]",k).on("click",".c-howto__carousel .slick-arrow",p).on("click",".c-efficacy .slick-arrow",ka).on("click",".js-pureshots-description-tabs a.js-pure-shots-tab-item",la).on("click",".js-pureshots-description-tabs a.accordion-title",ma).on("click",".js-pure-shots-sample-button",na).on("click",".js-pure-shots-refill-button",
pa).on("click","[data-promotion-impression]",E).on("change.zf.tabs","[data-tabs]",n).on("afterChange",".slick-slider",n).on("click",".c-routine__products .c-routine__product-wrapper",x.bind(this,a)).on("routine.addedtocart",w.bind(this,a)).on("change.zf.tabs","[data-tabs]",B.bind(this,a)).on("afterChange",".slick-slider",B.bind(this,a));J.on("scroll",r(function(){n();B.call(this,a);K.call(this,a)},100));u.ready(function(){n();B.call(this,a)})},landingPageModulesPromotionImpressions:function(a){J.on("scroll",
r(n,100));u.on("click","[data-promotion-impression]",E).on("change.zf.tabs","[data-tabs]",n).on("afterChange",".slick-slider",n);u.ready(function(){n()})},landingPageModulesProductImpressions:function(a){J.on("scroll",r(B.bind(this,a),100));u.on("click",".c-routine__products .c-routine__product-wrapper",x.bind(this,a)).on("click",".c-giveit-shot__button",oa).on("click",".c-shot-tile",x.bind(this,a)).on("routine.addedtocart",w.bind(this,a)).on("change.zf.tabs","[data-tabs]",B.bind(this,a)).on("afterChange",
".slick-slider",B.bind(this,a));u.ready(function(){B.call(this,a)})},searchImpressions:function(a){function b(a,b,e,g,h){var f=c.extend({},g.data("product-impression")[h]);c(b).on("click","a",function(){y(g.data("product-impression")[h],e)});f.list=e;f.position=a;d.gtm.setProductImpressionOnPage(f);c(b).addClass("was-visited");return f}var e=1,g=this,h=!0;f.document.on("search.update",function(){c(window).trigger("scroll")});f.document.ready(function(){c(window).trigger("scroll")});g.currentPosition=
c(window).scrollTop();c(window).on("scroll",r(function(){var f=[];g.newPosition=c(window).scrollTop();if(h||200<Math.abs(g.newPosition-g.currentPosition))c(".search_result_content").find("div.product_tile_wrapper:not(.was-visited)").each(function(g,l){if(C(l)&&!c(l).hasClass("was-visited")){g=c(l).find("span[data-product-impression]");var A=g.data("product-impressionid");0<g.length&&(d.gtm.setProductImpressionOnPage(g.data("product-impression")),f.push(b(e,l,a.config.currentCategory?"List-Result-Range":
"List-Result-Search",g,A)),e++)}h=!1}),f.length&&(v(f,a.config.currencyCode),g.currentPosition=g.newPosition)},100))},favoriteImpressions:function(a){var b=this;f.document.on("click",".hp_favorite_links a",U.bind(this,a,1,b,!0,!0));f.document.ready(function(){U(a,1,b,!0,!1)});b.currentPosition=c(window).scrollTop();c(window).on("scroll",r(U.bind(this,a,1,b,!0,!1),100))},setVirtualPreviewActive:function(){u.on("product.quantityValidation",ia);u.on("product.beforeVariationChange",Ma);u.on("modiface.ready",
".c-modiface__wrap",Na)},clpPromotionsImpressions:function(){var a=this,b=!0;J.on("scroll",r(function(){return M(c(".show-for-large.c-clp__content .c-clp-promo__link"),{id:"reinssurance elements",creative:"list-result-range",parent:".c-clp__promo-block",title:".c-clp-promo__title"})},100));f.document.on("search.update ready",function(){c(window).trigger("scroll")});a.currentPromoPosition=c(window).scrollTop();c(window).on("scroll",r(function(){var e=[];a.newPromoPosition=c(window).scrollTop();if(b||
200<Math.abs(a.newPromoPosition-a.currentPromoPosition))c(".search_result_content .gtm-promo-tracking:not(.was-visited)").each(function(a,h){if(C(h)&&!c(h).hasClass("was-visited")){var g=c(h).data("tracking-promotion-impression");if(g)e.push(g),c(h).on("click",function(){z([g],"Click")});else c(h).on("click",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"push",eventAction:"select",eventLabel:c(this).attr("href")||c(this).find("a").attr("href")||c(this).parent().next().find("iframe").attr("src")})});
c(h).addClass("was-visited");b=!1}}),e.length&&(z(e,"Impressions"),a.currentPromoPosition=a.newPromoPosition)},100))},productImpressionsOnPage:function(){function a(){var a=c("[data-product-impression]");0<a.length&&a.each(function(a,b){d.gtm.setProductImpressionOnPage(c(b).data("product-impression"))})}c(window).on("scroll",r(a,100));f.document.on("recommendations.loaded",a)},basketImpressions:function(){f.document.on("layout.reload",function(){var a=c("[data-basket-impression]");0<a.length&&d.gtm.setBasketImpressionOnPage(a.data("basket-impression"))})},
notifyMeClick:function(){f.document.on("click",".notifyme",function(){var a=c(this).data("pid").toString(),b,e=c("#QuickViewDialog").length?"quickviews":"product page";a.length&&(b=d.gtm.productImpressions[a].name);d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:e,eventAction:"notify me::display",eventLabel:b});d.gtm.pushEventData({event:"updatevirtualpath",virtualPageURL:"/notify-me/registration",virtualPageTitle:"notify me registration"})})},notifyMeSubmit:function(){f.document.on("notifyme_done",
function(a,b){a=d.gtm.productImpressions[b.pid].name;b=c("#QuickViewDialog").length?"quickviews":"product page";d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:b,eventAction:"notify me::submit",eventLabel:a});d.gtm.pushEventData({event:"updatevirtualpath",virtualPageURL:"/notify-me/confirmation",virtualPageTitle:"notify me confirmation"})})},productFindStore:function(){f.document.on("click",".product_add_to_cart .find-store",function(){var a=c(this).parents(".product_add_to_cart");
a.length&&(a=a.find('input[name\x3d"pid"]'),a.length&&(a=d.gtm.productImpressions[a.val()].name,d.gtm.pushEventData({event:"uaevent",eventCategory:"ecommerce",eventAction:"find a store",eventLabel:a})))})},minicartCheckoutActions:function(){f.document.on("click",".mini_cart_checkout_pay_pal_button",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"minicart",eventAction:"select",eventLabel:"checkout::paypal"})});f.document.on("click",".mini_cart_link_cart",function(){d.gtm.pushEventData({event:"uaevent",
ecommerce:"undefined",eventCategory:"minicart",eventAction:"select",eventLabel:"checkout::secure checkout"})});f.document.on("click",".minicart-empty a",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"minicart",eventAction:"select",eventLabel:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim()})})},quickView:function(a){f.document.on("openQuickview.dialog",function(b){if(null!=a&&("undefined"!==typeof b.namespace&&"dialog"==b.namespace&&null!=a&&(b=
a.pageVariables,"cart page"!=b.pageCategory&&(b.pageCategory="quickview::product detail page"),d.gtm.pushPageData(b)),b=c("#QuickViewDialog #product_content").find("span[data-product-impression]"),0<b.length)){d.gtm.setProductImpressionOnPage(b.data("product-impression"));var e=b.data("product-impressionid");W(d.gtm.productImpressions[e],Number(b.data("product-total-ratings")))}c(".product_detail .product_name.button, .qv_description .read_trigger").off("click.quickview").on("click.quickview",function(){d.gtm.pushEventData({event:"uaevent",
ecommerce:"undefined",eventCategory:"quick view",eventAction:"select::findoutmore",eventLabel:c(this).closest("#pdp_section_about").find("h1.product_name").first().text().toLowerCase().trim()})})});f.document.on("click",".quickviewbutton, .item_edit_details a",function(){var a=c(this).parents(".product_tile ").find(".product_name:not(.mobile_content)").text()||"cart",e=c(this).attr("href").replace(window.location.origin,"");c(this).attr("title")&&(a=c(this).attr("title").toLowerCase());c(this).parent().hasClass("item_edit_details")&&
(e="/cart");d.gtm.pushEventData({event:"updatevirtualpath",virtualPageURL:"/quick-view"+e,virtualPageTitle:"quick-view/"+a})})},dialogEvents:function(a){var b=c.extend({},a.pageVariables);c(document).on("dialogclose",function(){d.gtm.pushPageData(b)})},newsletterSubscription:function(a){f.document.on("submit","#header_customer_service .js_newsletter_subscribe_form, .utility_navigation_list .js_newsletter_subscribe_form",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"registration",
eventAction:"newsletter",eventLabel:"header"})});f.document.on("emailsignup_succes",function(a,c){"Footer"==c.source&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"registration",eventAction:"newsletter",eventLabel:"footer"})});f.document.on("submit",".modal-popup-newsletter .js_newsletter_subscribe_form",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"acquisition sticky",eventAction:"select",eventLabel:"sign up"})});f.document.on("newsletter.success",
function(b,c){null!=a&&(b=a.pageVariables,b.uiEmailId=c.hashEmail,d.gtm.pushPageData(b))})},reinsuranceElements:function(){var a={"f-gift":"exclusive",f_samples:"complimentary samples",f_shippings_returns:"free delivery",f_payment:"secure payment"};f.document.on("click",".footer_social_nav a",function(){var b=c(this).attr("class");d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"reinsurance elements",eventAction:"select",eventLabel:a[b]})})},addToCart:function(a){var b={};
f.document.on("product.addedToCart",function(e,g){e=g.pid;var h=g.qty,f=c("#delivercustom").is(":checked"),A=c("#pdpMain").find(".custom_caps"),A=A.length?"/"+A.find(".cap_selected").data("cap-name").toLowerCase():"";O(g.pid);e||(e=d.gtm.config.addToCartProductID);d.gtm.productImpressions&&d.gtm.productImpressions[e]&&(g=O(e),b=d.gtm.productImpressions[e],b.quantity=h,b.dimension153="none",g&&(b.dimension49=g),-1==b.variant.indexOf(A)&&(b.variant+=A),f&&(b.dimension40=Number(c("#arMounth").val())||
""),F([b],a.config.currencyCode))});f.document.on("submit",".persengrav_main form#add_product_form",function(){if("product"==d.page.ns){var e=O(g),g=c(this).parents(".persengrav_main").find(".engraving_preview_cont").data("productid")||"",h=c(this).find(".product_engraving_edit_cont").length||1,f="monogram"==c('input[name\x3d"personalEngravingStyle1"]:checked').val()?"monogram":"regular text",A=c("select.personal_engraving_pictogram_select").val(),k=c("[name$\x3d_capOptionProduct]"),k=k.length?"/"+
k.val():"";d.gtm.productImpressions&&d.gtm.productImpressions[g]&&(b={},b=d.gtm.productImpressions[g],b.quantity=h,b.variant+=k,b.dimension153="engraved",b.dimension154=A?["multiple engraving",A,f].join("::"):f,e&&(b.dimension49=e),F([b],a.config.currencyCode))}});f.document.on("routine.addedToCart",function(b,c){b=[];if(c){var e=c.pid.split("|");c=c.qty.split("|");for(var g=0;g<e.length;g++){var f=d.gtm.productImpressions[e[g]];f.quantity=c[g];f&&b.push(f)}}F(b,a.config.currencyCode)})},removeFromCart:function(a){f.document.on("click",
'#cart-items-form button[name*\x3d"deleteProduct"]',function(){var b=c(this).parents(".cart_row").data("uuid");(b=a.basketImpressions[b])&&P(b,a.config.currencyCode);b=c(this).data("sampleid");(b=a.config.basketSamplesImpressions[b])&&z([b],"Click")})},cartEvents:function(a){f.document.on("click",".empty-cart-suggestions a",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"cart page",eventAction:"select",eventLabel:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,
"").trim()})});c(document).on("product.handleCartUpdate",function(b,e){b=e.wrapper.find('input[name\x3d"quantity"]');if(e.pid&&b.length){var g;b=b.val();g=e.pid;e=e.wrapper.find("#delivercustom").length&&e.wrapper.find("#delivercustom").is(":checked");d.gtm.productImpressions&&d.gtm.productImpressions[g]&&(g=d.gtm.productImpressions[g],g.quantity=b,g.dimension153="none",e&&(g.dimension40=Number(c("#arMounth").val())||""),F([g],a.config.currencyCode))}})},storelocatorSearchEvent:function(){f.document.on("click",
".storelocator-footer-form .button",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"store locator search",eventAction:c(".storelocator-footer-form input").val(),eventLabel:""})})},engravingEvents:function(a){f.document.ready(function(){var a=c("[data-product-impression]");0<a.length&&a.each(function(a,b){d.gtm.setProductImpressionOnPage(c(b).data("product-impression"))})});f.document.on("change","#dialog-container form#add_product_form #personal_engraving_agreement",
function(){c(this).is(":checked")&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"product detail page",eventAction:"popin::select",eventLabel:"engraving"})});f.document.on("change","#engraving-addmessages-page form#add_product_form #personal_engraving_agreement",function(){c(this).is(":checked")&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"select",eventAction:"engraving",eventLabel:"confirm engraving"})});f.document.on("click",".edit_engraving",
function(){null!=a&&(d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"cart page",eventAction:"select",eventLabel:"edit::personal engraving"}),d.gtm.pushEventData({event:"updatevirtualpath",virtualPageURL:"/quickview/engraving",virtualPageTitle:"quickview engraving"}))}).on("click",".engraving_checkbox",function(){1==c(".add_personal_engraving_cbx").prop("disabled")&&null!=a&&d.gtm.pushEventData({event:"updatevirtualpath",virtualPageURL:"/quickview/engraving error",virtualPageTitle:"quickview engraving error"})}).on("submit",
".persengrav_main form#add_product_form",function(){null!=a&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"select",eventAction:"engraving",eventLabel:"product"==d.page.ns?"continue to checkout":"update"})}).on("click",".persengrav_main .go_back_link",function(){null!=a&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"select",eventAction:"engraving",eventLabel:"go back to my order"})})},removeFromMinicart:function(a){f.document.on("click",".mini_cart_products .minicart_pli_remove",
function(){var b=c(this).data("uuid");(b=d.gtm.basketImpressions[b])&&P(b,a.config.currencyCode)})},contactUsEvent:function(a){f.document.on("submit","#contact-us-form",function(){if(null!=a){var b=a.pageVariables;b.requestType=c(this).find(".selectboxit-text").text().toLowerCase();d.gtm.pushPageData(b)}})},storelocatorSearch:function(a){f.document.on("storelocator.search",function(b,e){null!=a&&(b=a.pageVariables,c.extend(b,{searchCategory:"store locator page",searchKeyword:e.keyword,resultsNumber:e.resultNumber}),
d.gtm.pushPageData(b))})},updateQuantity:function(a){f.document.on("change",".quantity_select",function(){var b=c(this).parents(".cart_row").data("uuid"),e=Number(c(this).val()),b=d.gtm.basketImpressions[b];e>b.quantity?(b.quantity=e-b.quantity,F([b],a.config.currencyCode)):(b.quantity-=e,P(b,a.config.currencyCode))});f.document.on("dialogopen",function(){var b=c(".dialog_cart_edit");if(b.length){var e=b.find('select[name\x3d"quantity"]').first(":selected"),g=e.val();c(".addtocartbutton").on("click",
function(){var c=e.val(),f=b.find("span[data-product-impression]");0<f.length&&(d.gtm.setProductImpressionOnPage(f.data("product-impression")),f=f.data("product-impressionid"),f=d.gtm.productImpressions[f],c>g?(f.quantity=c-g,F([f],a.config.currencyCode)):c<g&&(f.quantity=g-c,P(f,a.config.currencyCode)))})}})},cartYouMayAlsoLikeImpressions:function(a){f.document.on("recommendations.loaded",function(){var b=[];c(".recommendations_block").find("div.product_tile:not(.was-visited)").each(function(a,d){var e=
c(d).data("itemid"),g=c(d).parent().find("span[data-product-impression]");if(0<g.length){var f=c.extend({},g.data("product-impression")[e]);f.list="cross-sell";f.position=a+1;b.push(f);c(d).on("click","a",function(){y(g.data("product-impression")[e],f.list)})}});b.length&&v(b,a.config.currencyCode)})},pdpRoutine:function(){f.document.on("routine.addedToCart.gtm",function(){c("#routine_details_section_popup").find("div.product_tile").each(function(a,b){a=c(b).parent().find("span[data-product-impression]");
d.gtm.setProductImpressionOnPage(a.data("product-impression"))})})},pdpPromoImpressions:function(){J.on("scroll",r(function(){M(c(".recommendations_block.yslfavorites-pdp"),{id:"ysl favorites",creative:"product detail page",title:".left_column h1.product_name"})},100))},pdpProductImpressions:function(a){J.on("scroll",r(function(){N(a,c(".recommendations_block .yslfavorites-pdp").find(".product_tile:not(.was-visited)"),"cross-sell");N(a,c("#section_youmayalsolike").find(".product_tile:not(.was-visited)"),
"cross-sell")},100))},variationChange:function(a){var b=this,e,g;f.document.on("product.variationChanged",function(f,l){if("variationPid"in b)if(b.variationPid!=l.pid)b.variationPid=l.pid;else return;else b.variationPid=l.pid;f=c("#product_content [data-product-variant-impressions]");var h=c("#QuickViewDialog #product_content").find("span[data-product-impression]"),k=Number(a.config.totalReviews),R=c("#pdpMain #product_content").find("span[data-product-impression]"),T=O(l.pid);if(0<f.length){e=f.data("product-variant-impressions")[l.pid];
g=0;for(var m in f.data("product-variant-impressions")){if(m==l.pid)break;g++}d.gtm.setProductImpressionOnPage(R.data("product-impression"))}0<h.length&&(k=Number(h.data("product-total-ratings")));R.length&&d.gtm.setProductImpressionOnPage(R.data("product-impression"));e&&(e.list="variants",e.position=g+1,v(e,a.config.currencyCode),y(e,"variants"),!d.quickView.isActive()&&T&&(e.dimension49=T,"activated"==T&&D.push(l.pid)),W(e,k))})},routineImpression:function(a){var b=this;f.document.ready(function(){c(window).trigger("scroll")});
b.currentPosition=c(window).scrollTop();c(window).on("scroll",r(function(){var e=[];b.newPosition=c(window).scrollTop();var g=1;c("#buy-routine-desktop").closest(".productcarousel_list").find(".product_tile_wrapper:not(.was-visited)").each(function(a,b){if(C(b)){a=c(b).find(".product_tile").data("itemid");var d=c(b).find("span[data-product-impression]");0<d.length&&(e.push(S(g,b,"cross-sell",d,a)),g++);c(b).addClass("was-visited")}});e.length&&(d.gtm.pushEventData({event:"uaevent",eventCategory:"Ecommerce",
eventAction:"Product Impressions",ecommerce:{currencyCode:a.config.currencyCode,impressions:e}}),b.currentPosition=b.newPosition)},100))},productDetailImpression:function(a){f.document.ready(function(){W(a.productImpressions[a.config.productID],Number(a.config.totalReviews))})},addToWishList:function(){f.document.on("click",".wishlist_add_container .wishlist_action, .favorite_add_container .wishlist_action",function(){var a;a=c(this).closest(".product_tile,.pdp_main");a.length?a=a.find(".product_name").first().text().trim().toLowerCase():
(a=c(this).closest(".item_details"),a=a.length?a.find(".product_list_item").first().find("a").first().text().trim().toLowerCase():c(this).closest("li").find(".product_name").attr("title").trim().toLowerCase());c(this).parent().hasClass("wishlist_add_container")?L("add to wishlist",a):L("add to favorites",a)})},cartActivity:function(a){f.document.on("giftwrap.updated",function(){var b=c("#dwfrm_cart_isGift").prop("checked"),e=c('input[name\x3d"giftWrapProductID"]'),g=e.val();e.data("giftwrap-master-id")||
(e=c('.js_giftWrapWrapper[data-giftwrap-id\x3d"'+g+'"]'));var e=e.data("giftwrap-master-id"),f=c(".js_gift_box td").last().text().trim().toLowerCase();"free"!=f&&(f=f.substring(1),L("gift wrap",f),d.gtm.pushEventData({event:b?"addToCart":"removeFromCart",eventCategory:"Ecommerce",eventAction:b?"Add to Cart":"Remove from Cart",ecommerce:{currencyCode:a.config.currencyCode,add:{products:[{name:"gift wrap",id:e,price:f,brand:a.pageVariables.brand,category:"gift/wrap",variant:"wrap",quantity:1,dimension48:g}]}}}))});
f.document.on("click","#proceedGiftWrap",function(){var a="includemessageinbox";c("#dwfrm_cart_giftNotificationEmail").prop("checked")&&(a+="::letyourfriend");L("personal message",a)});f.document.on("click",".cart_checkout_button",function(){var a="button_top";c(this).closest("div").parent().hasClass("cart_actions_bottom")&&(a="button_down");L("select",a)});f.document.on("click","#add-coupon",function(){L("promotional code",c(this).parent().find("input").val())});f.document.on("click",".cart_checkout_pay_pal_button",
function(){var a="button_top";c(this).is(".cart_checkout_pay_pal_button:last")&&(a="button_down");d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"checkout",eventAction:"select::checkout::paypal",eventLabel:a})});f.document.on("click",".item_edit_details",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"cart page",eventAction:"select",eventLabel:"edit"})});f.document.on("click",".cart_table .wishlist_action",function(){d.gtm.pushEventData({event:"uaevent",
ecommerce:"undefined",eventCategory:"cart page",eventAction:"add to favorites",eventLabel:c(this).parent().prev().find("a").first().attr("title").trim()})})},wishlistImpresions:function(a){f.document.on("click","button.add_to_cart.js_addtocart",function(){var a=c(this).parents("td.item_dashboard").find("[data-tracking-productid]");0<a.length&&(d.gtm.config={},d.gtm.config.addToCartProductID=a.data("tracking-productid"))});f.document.ready(function(){var b=[];c(".wishlist_products").find("[data-tracking-productid]").each(function(d,
g){var e=c(g).data("tracking-productid"),f=c.extend({},a.productImpressions[e]);f&&(f.list="wishlist",f.position=d+1,b.push(f),c(g).parents(".product-row").on("click","a.product_name",function(){y(a.productImpressions[e],f.list)}))});b.length&&v(b,a.config.currencyCode)})},homepageEvents:function(){f.document.on("click",".hp_slot_1 .contentcarousel_item",function(){var a=c(this).closest(".contentcarousel_list_item").data("index")+1,b=c(this).closest(".contentcarousel_list_item").find(".link-asset-body-hp").attr("title")||
"carousel";d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"slider",eventAction:"select",eventLabel:a+"::"+b.toLowerCase()})});f.document.on("click",".c-hero .c-carousel__arrow, .c-hero__shop-button",function(){var a=c(this),b=c(".c-hero__item.slick-active").data("slick-index")+1,e=q(c(".c-hero__item.slick-active").find(".c-hero__product-title-link")),g="select";a.hasClass("c-carousel__arrow--right")?g="next":a.hasClass("c-carousel__arrow--left")&&(g="previous");d.gtm.pushEventData({event:"uaevent",
ecommerce:"undefined",eventCategory:"slider",eventAction:g,eventLabel:[b,e].join("::")})});f.document.on("click",".hp-explore-by a.title-value, .hp-explore-by .img a",Ka);f.document.on("click",".hp-tools a.title-link, .hp-tools a.link-value",ea);f.document.on("click",".hp-find-inspiration .title, .hp-find-inspiration .link",fa);f.document.on("click",".hp-howto a.title-link, .hp-howto a.link-value",La)},homepageImpressions:function(){f.document.on("click",".hp_favorite_links a",function(){M(c(".hp_favorite_section .favorites_tab_container:visible .hp_favorites_left"),
{id:"ysl favorites",creative:"homepage",title:".favorites_tab_container:visible .hp_favorites_title",index:"element",start:0})});f.document.ready(function(){f.document.on("afterChange",".c-hero__carousel",ga);ga()});J.on("scroll",r(function(){M(c(".hp_favorite_section .favorites_tab_container:visible .hp_favorites_left"),{id:"ysl favorites",creative:"homepage",title:".favorites_tab_container:visible .hp_favorites_title"});M(c(".focus-on-item"),{id:"focus on",creative:"homepage",title:".focus-on-item .hp-title-link"})},
100))},osezPartager:function(){f.document.on("click",".olapic-footer-button.olapic-see-all a, .olapic-viewer-overlay .product-list-item",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"olapic",eventAction:"select",eventLabel:c(this).attr("href")})})},cartCheckoutStep:function(a){var b=localStorage.getItem("gtmCheckoutSteps"),b=JSON.parse(b);a=a.config.basketUID;b?a!=("basketUID"in b?b.basketUID:null)&&(b.basketUID=a,b.steps=["cart"],localStorage.setItem("gtmCheckoutSteps",
JSON.stringify(b))):(b={},b.basketUID=a,b.steps=["cart"],localStorage.setItem("gtmCheckoutSteps",JSON.stringify(b)))},pushCartVirtualpath:function(a){G("/"+a.pageVariables.brand+"/"+a.pageVariables.country+"/cart","checkout cart - step 1",1,a,!0)},footerExternalSocialLink:function(a){f.document.on("click",".footer-social-media-asset a",function(){if(null!=a){var b="",e=c(this).attr("href");"facebook twitter youtube pinterest instagram google tumblr".split(" ").forEach(function(a){0<e.indexOf(a)&&
(b=a)});"google"===b&&(b="google+");d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"footer",eventAction:b+"::select",eventLabel:e})}})},productSocialLinksClick:function(){f.document.on("click",".product_social_networking a",function(){var a="",b="",e;if(c(this).data()){switch(c(this).data("provider")){case "facebook":a="Facebook";b="share";break;case "twitter":a="Twitter";b="tweet";break;case "pinterest":a="Pinterest";b="pin it";break;case "google_plus":a="Google Plus";b=
"google plus";break;default:a="Social Network",b="share"}c(this).hasClass("send_to_friend")&&(a="Email")}e=c(this).attr("href").trim();d.gtm.pushEventData({event:"socialInt",socialNetwork:a,socialAction:b,socialTarget:e})});f.document.on("click",".product_actions .send_to_friend",function(){d.gtm.pushEventData({event:"socialInt",socialNetwork:"Email",socialAction:"share",socialTarget:c(this).attr("href").trim()})})},oneStepCheckout:function(a){f.document.on("module section",".js_checkout_section",
function(b,e){"loaded"==e.action&&e.obj&&"login"==e.obj.id&&(c(".chsection_login .js_checkout_sections_edit").length?a.pageVariables.funnelType="guest":a.pageVariables.funnelType="regular");if(c(b.target).hasClass("current")){e=a.pageVariables;var g=c(".chmodule_shippingaddress .mini_address_location .city .value").text();g&&g.trim()&&(e.locationCity=g.trim().toLowerCase());d.gtm.pushPageData(e);b=c(b.target).data("section-id");if(b in X)X[b](a)}})},accountRegistration:function(a){if(null!=a){var b=
a.config;if("uiEvent"in b&&"accountCreation"==b.uiEvent){var e="regular",g="regular";"regular logged"!==a.pageVariables.uiLoggedStatus&&(e="social",g="uiProvider"in b?b.uiProvider:"");d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"registration",eventAction:"account signup::"+e,eventLabel:g.toLowerCase()})}f.document.on("submit","#RegistrationForm",function(){c(this).find("#dwfrm_profile_customer_addtoemaillist").is(":checked")&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",
eventCategory:"registration",eventAction:"newsletter",eventLabel:"account creation"})})}},registrationCheckoutStep:function(a){if(null!=a&&"source"in a.config&&"checkout"==a.config.source){var b=H("register");G("/"+a.pageVariables.brand+"/"+a.pageVariables.country+"/identification/account-creation","checkout identification - step "+b,3,a,!0)}},logIn:function(a){f.document.on("click",".checkout_module .signin .submit_button",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"registration",
eventAction:"account signup::regular",eventLabel:"transaction page"})});if(null!=a&&(a=a.config,"uiLogging"in a&&1==a.uiLogging)){var b="regular";"regular logged"!==a.uiLoggedStatus&&(b="uiProvider"in a?a.uiProvider:"",b="social::"+b);d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"login",eventAction:b,eventLabel:"successfull"})}f.document.on("click",".social_network_login_block .fb_button",function(){var a=c(".js_accountNavigation").is(":visible")?"header":"modal";d.gtm.pushEventData({event:"uaevent",
ecommerce:"undefined",eventCategory:"register",eventAction:"acount signup::social",eventLabel:a})});f.document.on("click",".block_create a",function(){var a=c(".js_accountNavigation").is(":visible")?"header":"modal";d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"register",eventAction:"acount signup::regular",eventLabel:a})});f.document.on("loginerror",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"login",eventAction:"regular",eventLabel:"error"})});
f.document.on("loginsuccess",function(a,b){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"login",eventAction:b.eventAction,eventLabel:"successfull"});a=0<c(".customwishlist").length?"modal":"header";d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"registration",eventAction:"account signup::"+("regular"==b.eventAction?"regular":"social"),eventLabel:a})});f.document.on("click",".login_section .password_reset",function(){d.gtm.pushEventData({event:"uaevent",
ecommerce:"undefined",eventCategory:"header",eventAction:"display::popin",eventLabel:"reset password"})});f.document.on("submit","#PasswordResetForm",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"header",eventAction:"send",eventLabel:"reset password"})});f.document.on("gtm.topSlotFacebookLogin",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"log in",eventAction:"social::facebook",eventLabel:"successfull"})});f.document.on("click",
".social_network_login_block .fb_button",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"log in",eventAction:"social::facebook",eventLabel:"successfull"})})},subscribeLoginSrc:function(a){f.document.on("submit",".newsletter_popin_container form",function(){null!=a&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"registration",eventAction:"newsletter",eventLabel:"modal"})});f.document.on("submit",".footer_newsletter_box form",function(){null!=
a&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"registration",eventAction:"newsletter",eventLabel:"footer"})});f.document.on("submit","#sign_up_slot form",function(){null!=a&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"registration",eventAction:"newsletter",eventLabel:"header"})});f.document.on("submit",".promo_banner form",function(){null!=a&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"push-promo",eventAction:"select",
eventLabel:"sign up"})});f.document.on("click",".promo_banner .join-link",function(){null!=a&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"push-promo",eventAction:"display",eventLabel:"special offer"})});f.document.on("submit",".newsletter_holder #dwfrm_newsletter",function(){null!=a&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"registration",eventAction:"newsletter",eventLabel:"in page"})});f.document.on("submit",".dialog_email_signup_promo #dwfrm_newsletter",
function(){null!=a&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"registration",eventAction:"newsletter",eventLabel:"popin"})});f.document.on("click",".login_popup .block_create a",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"registration",eventAction:"account signup::regular",eventLabel:"header"})})},orderConfirmation:function(a){var b=[];Y(a.basketImpressions).forEach(function(a){b.push(V(a))});d.gtm.pushEventData({event:"checkout",
eventCategory:"Ecommerce",eventAction:"Purchase",eventLabel:"Purchase",ecommerce:{purchase:{actionField:{id:a.orderImpressions.orderId,affiliation:Ja(a),revenue:a.orderImpressions.revenue,tax:a.orderImpressions.tax,shipping:a.orderImpressions.shipping,coupon:a.orderImpressions.coupon},products:b}}})},orderConfirmationVirual:function(a){var b=localStorage.getItem("gtmCheckoutSteps"),b=JSON.parse(b),c;b&&(c=b.steps.length+1,localStorage.removeItem("gtmCheckoutSteps"));d.gtm.pushPageData({virtualPageURL:"/"+
a.pageVariables.brand+"/"+a.pageVariables.country+"/confirmation/",virtualPageTitle:"checkout confirmation - step "+c})},orderConfirmationAccountCreation:function(){f.document.on("module",".js_module",function(a,b){"submited"===b.action&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"registration",eventAction:"account signup::regular",eventLabel:"transaction page"})})},searchEvents:function(){f.document.on("click",".refinement_list_link",function(){var a=c(this);a.parent().hasClass("selected")||
d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"filter",eventAction:["filter by",a.closest(".refinement_list").siblings(".refinement_headline").find(".name").text().trim().toLowerCase()].join("::"),eventLabel:a.text().trim().toLowerCase()})});f.document.ready(function(){c(".sort_by_list").on("change",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"filter",eventAction:"sort by",eventLabel:c(this).find("option:selected").text().trim().toLowerCase()})})});
f.document.ready(function(){c(".you_might_interested").find("a").each(function(a){c(this).on("click",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"push",eventAction:"select",eventLabel:a+1+"::"+c(this).attr("href")})})})});f.document.on("tab.switched",function(a,b){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"search-results",eventAction:"display",eventLabel:{"results-products":"products",content_Moodboards:"inspirations","content_learn-howto":"tutorials"}[b.newTab.attr("aria-controls")]})})},
searchbarEvents:function(a){var b=f.document;b.on("submit","form#search",function(a,b){b=c(b.currentTarget).find(".search_input").val().trim().toLowerCase();d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"on site search",eventAction:"regular",eventLabel:[a.pageVariables.pageCategory,"header"].join("::")});d.util.setCookie("searchKeyWord",b,{expires:1E6,path:"/"})}.bind(null,a));b.on("click",".suggestionterm",function(a,b){b=c(b.currentTarget).text().trim().toLowerCase();
d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"on site search",eventAction:"autocompletion",eventLabel:[a.pageVariables.pageCategory,"header"].join("::")});d.util.setCookie("searchKeyWord",b,{expires:1E6,path:"/"})}.bind(null,a));b.on("click",".suggestions h3.productname a, .suggestions .productDetails .image a",function(a){var b=c(".search_wrapper .search_input:visible").val();d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"on site search",eventAction:"autocompletion",
eventLabel:[a.pageVariables.pageCategory,"header"].join("::")});d.util.setCookie("searchKeyWord",b,{expires:1E6,path:"/"})}.bind(null,a))},menuEvents:function(a){function b(a,b){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"header",eventAction:b||"display::menu",eventLabel:a})}function e(a,b){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:b||"burger menu",eventAction:"picto"==a?"display::menu":"select",eventLabel:a.toLowerCase().trim()})}var g=
{".utility_navigation_list #country_selector":["country"],".utility_navigation_list #store_locator":["store locator"],".utility_navigation_list #customer_service":["may we help you"],".utility_navigation_list #newsletter_subscribe_link":["newsletter subscription"],".account_navigation_list .advantage_item":["ecommerce privileges"],".account_navigation_list .account_navigation_link":["myaccount"],".f_current_position":["storelocator::around my position","select"],".f_button_locate":["storelocator::ok",
"select"]},h;for(h in g)f.document.on("click",h,{eventSrc:h},function(a){b(g[a.data.eventSrc][0],g[a.data.eventSrc][1])});f.document.on("global.showMinicart.opened",Ia.bind(null,a));f.document.on("click",".content_asset.chose-your-country  a",function(){b("country::"+c(this).text().toLowerCase(),"select")});f.document.on("click",".customer-service-header-container a",function(){b("may we help you::"+c(this).text().toLowerCase(),"select")});f.document.on("click",".navigation .category_link",function(){var a=
c("body").hasClass("menu_expanded"),b=c(this),d=b.hasClass("level_1_list_item_link")?1:b.hasClass("level_2_list_item_link")?2:3,g="";if(!(a&&3>d)){for(var f=d;0<f;f--)var h=b.text().trim().toLowerCase(),g=0<g.length?h+"::"+g:h,b=b.closest("ul").closest("li").children(".category_link");e(g,a?"burger menu":"main menu l"+d)}});f.document.on("click",".header_menu_info a",function(){e(c(this).parent().find("h3").text())});f.document.on("click",".level_2_list_link",function(){e(c(this).closest(".level_1_list_item").children(".category_link").text().trim()+
"::"+c(this).attr("title").trim())});f.document.on("click",".non_expandable",function(){e(c(this).text())});f.document.on("click",".account_items a",function(){e("my account::"+c(this).text().trim())});f.document.on("click",".mobile_navigation",function(){e("picto")});f.document.on("click",".navigation.classic_navigation .level_1_list_item_link",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"burger menu",eventAction:"select",eventLabel:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,
"").trim()})})},homepageMoodBoard:function(a){c(window).on("scroll",r(function(){var b=[];c(".js_moodboard").find("div.type_product:not(.was-visited)").each(function(a,d){if(C(d)&&!c(d).hasClass("was-visited")){var e=c(d).find(".product_tile_wrapper span[data-product-impression]"),g=e.data("product-impressionid");if(0<e.length){var f=c.extend({},e.data("product-impression")[g]);f.list="Highlight";f.position=a+1;b.push(f);c(d).addClass("was-visited");c(d).on("click","a",function(){y(e.data("product-impression")[g],
"Highlight")})}}});b.length&&v(b,a.config.currencyCode);var d=[];c(".moodboard_push").find("[data-tracking-promotion-impression]:not(.was-visited)").each(function(a,b){if(C(b)&&!c(b).hasClass("was-visited")){var e=c(b).data("tracking-promotion-impression");d.push(e);c(b).addClass("was-visited");c(b).on("click",function(){z([e],"Click")})}});d.length&&z(d,"Impressions")},100))},errorPage:function(){f.document.ready(function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"error",
eventAction:"404",eventLabel:window.location.href})})},productPictures:function(){f.document.on("click",".product_thumbnails .thumbnail_link, a.fancybox_open",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"product pictures ",eventAction:"display",eventLabel:"display::product-carrousel"})})},pdpTabs:function(){f.document.on("click",".product_tabs:not(.js-pureshots-description-tabs) a",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"product page",
eventAction:"tab navigation",eventLabel:c(this).text().toLowerCase().trim()})})},pdpWriteReview:function(a){f.document.on("click",".js_writeproductreview, #BVRRContainer .bv-write-review-container button",function(){var b=d.gtm.productImpressions[a.config.productID];d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"product page",eventAction:"write a review",eventLabel:b?b.name:""})})},pdpInspiration:function(){f.document.on("click","#explore .article",function(){d.gtm.pushEventData({event:"uaevent",
ecommerce:"undefined",eventCategory:"product page",eventAction:"select",eventLabel:"inspiration::"+c(this).attr("href")})});f.document.on("click",".olapic-upload a",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"olapic",eventAction:"display",eventLabel:"add your photo"})})},pdpEvents:function(a){f.document.on("track.video.thumb.select",function(a,c){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"product page",eventAction:"select video",
eventLabel:"productName"in c?c.productName.toLowerCase():""})}).on("click",".addedtocart_popup_back, .addedtocart_popup_link",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"addtocart popin",eventAction:"select",eventLabel:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim()})}).on("tracking.popup.added.to.cart",function(){var a=c(".addedtocart_dialog .product_popup_added_to_cart").first();a.length&&d.gtm.pushEventData({event:"updatevirtualpath",virtualPageURL:"/addtocart-confirmation-popin"+
a.attr("data-producturl"),virtualPageTitle:"addtocart-confirmation-popin "+(a.attr("data-product-name")||"").toLowerCase()})}).on("click",".slot_moodboards_list .content_carousel-item a",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"product page",eventAction:"select",eventLabel:"inspiration"+c(this).attr("href")})}).on("click","a.c-e-gift__link, a.c-get-sample",function(){var a=c(this);d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"product detail page",
eventAction:q(a),eventLabel:q(a.parents(".product_info_wrapper").find("h1.product_name"))})}).on("click","a.c-snapshot-popup__read-more",function(){var a=c(this);d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"snapshot",eventAction:q(a),eventLabel:q(a.parents(".c-snapshot-popup").find(".c-snapshot-popup__title"))})}).on("click",".hp-tools a.title-link, .hp-tools a.link-value",ea).on("click",".hp-find-inspiration .title, .hp-find-inspiration .link",fa).on("imageReplace.globalResponsive",
function(){if(0<c(".you_may_also_like_added_to_cart").find("div.product_tile").length){var b=[];c(".you_may_also_like_added_to_cart").find("div.product_tile").each(function(a,d){var e=c(d).parent().find("span[data-product-impression]"),g=e.data("product-impressionid");if(0<e.length){var f=c.extend({},e.data("product-impression")[g]);f.list="cross-sell";f.position=a+1;b.push(f);c(d).on("click","a",function(){y(e.data("product-impression")[g],f.list)})}});b.length&&v(b,a.config.currencyCode)}}).on("sendtofriend.sent",
function(){if(null!=a){var b=a.pageVariables;b.uiEmailId=d.preferences.sendtofriendHashEmail;d.gtm.pushPageData(b)}})},eGiftEvents:function(a){f.document.on("giftcert.addedToCart",function(b,c){c=c||{};b=c.amount?c.amount.toString().replace(/[^\d.]/g,""):"";c=c.pid||"";d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"ecard",eventAction:"select",eventLabel:"shop now"});d.gtm.pushEventData({event:"addToCart",eventCategory:"Ecommerce",eventAction:"Add to Cart",ecommerce:{currencyCode:a.config.currencyCode,
add:{products:[{name:"e-gift card",id:c,price:b,brand:a.pageVariables.brand,category:"gift/card",variant:"card",quantity:1}]}}})}).on("click",".gift-cert-balance-submit button",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"ecard",eventAction:"select",eventLabel:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim()})})},wishlistEvents:function(){f.document.on("click",".ysl-wl-home-title-wrapper .ysl-wl-button",function(){d.gtm.pushEventData({event:"uaevent",
ecommerce:"undefined",eventCategory:"module::wishlist christmas",eventAction:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim(),eventLabel:c(this).closest(".ysl-wl-home-title-wrapper").find(".ysl-wl-big-title").text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim()})}).on("click","#yslWlForm .ysl-wl-form .ysl-wl-button",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"module::wishlist christmas",eventAction:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,
"").trim(),eventLabel:c(this).closest(".ysl-wl-form-wrapper").find(".ysl-wl-title").text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim()})}).on("click",".ysl-wl-products-selection-wrapper .ysl-wl-button",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"module::wishlist christmas",eventAction:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim(),eventLabel:c(this).closest(".ysl-wl-products-selection-wrapper").find(".ysl-wl-title").text().toLowerCase().replace(/(\r\n|\n|\r)/gm,
"").trim()})}).on("click","#yslWlShareForm .ysl-wl-form .ysl-wl-button",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"module::wishlist christmas",eventAction:"share by email",eventLabel:"client wishlist"})}).on("click",".ysl-wl-back",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"module::wishlist christmas",eventAction:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim(),eventLabel:"client wishlist"})}).on("click",
".ysl-wl-product-button-shop-now",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"module::wishlist christmas",eventAction:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim(),eventLabel:"client wishlist"})}).on("click",".ysl-wl-button.ysl-wl-product-button-learn-more",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"module::wishlist christmas",eventAction:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim(),
eventLabel:"client wishlist"})}).on("click",".ysl-wl-products-results-button-restart, .ysl-wl-products-results-button-share",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"module::wishlist christmas",eventAction:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim(),eventLabel:"client wishlist"})}).on("click",".ysl-wl-products-results-popin-share-social-item-link",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"module::wishlist christmas",
eventAction:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim(),eventLabel:"client wishlist"})})},eGiftCardEvents:function(){f.document.on("click",".cards_tab_action .cards_gifs, .cards_tab_action .cards_still_life",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"module::egift card",eventAction:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim(),eventLabel:"egift card::type of card"})}).on("click",".card_actions .card_save, .card_actions .js_card_share",
function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"module::egift card",eventAction:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim(),eventLabel:"design "+c(this).closest(".card_actions").attr("data-index")})}).on("click",".footer_social_list a.social_icon",function(){var a="facebook";c(this).hasClass("social_instagram")?a="instagram":c(this).hasClass("social_snapchat")?a="snapchat":c(this).hasClass("social_youtube")?a="youtube":c(this).hasClass("social_twitter")?
a="twitter":c(this).hasClass("social_pinterest")&&(a="pinterest");d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"module::egift card",eventAction:"follow::"+a,eventLabel:"social network"})});f.document.on("christmascards.opensharepopin",function(a,b){c(".share_card_dialog #christmas_form_submit").on("click",d.gtm.pushEventData.bind(null,{event:"uaevent",ecommerce:"undefined",eventCategory:"module::egift card",eventAction:"share by email",eventLabel:b.label}));c(".share_card_dialog .share_card_networks a").on("click",
function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"module::egift card",eventAction:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim(),eventLabel:b.label})})})},landingPageEvents:function(a){f.document.ready(function(){var b="",e=d.util.getParameterValueFromUrl("lpid");if(void 0!=e)switch(e){case "MAKEUPARTIST":b="makeup artist";break;case "ICONICRED":b="iconic red";break;case "SUMMERLOOK-2017":b="summer look";break;case "DISCOVERLHOMME":b="discover lhomme";
break;case "HOLIDAY-SEASON-2017":b="holiday season";break;default:b="lp::"+e.toLowerCase()}var g={videoName:"",ctaTitle:""},h="";if(""!=b){var l=0,k=c(window).height(),m=0;f.document.on("scroll",r(function(){0==l&&(l=c(this).height()-k);var a=parseInt(100*c(window).scrollTop()/l),e="";0==a?e="":15<=a&&25>=a?e="25%":40<=a&&50>=a?e="50%":60<=a&&75>=a?e="75%":80<a&&(e="100%");e!=h&&""!=e&&m<a&&(h=e,m=a,d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:b,eventAction:"scroll down",
eventLabel:h}))},100)).on("tracking.video.player.events",function(a,c){a=c.timePassed/c.totalTime*100;c="";25>=a?c="25%":50>=a?c="50%":75>=a?c="75%":100>=a&&(c="100%");d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:b,eventAction:"watch video",eventLabel:c})}).on("tracking.video.pause",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:b,eventAction:"pause the video",eventLabel:g.videoName})}).on("tracking.video.stop",function(){d.gtm.pushEventData({event:"uaevent",
ecommerce:"undefined",eventCategory:b,eventAction:"stop the video",eventLabel:g.videoName})}).on("tracking.video.play",function(){g&&void 0!=g.videoName&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:b,eventAction:g.ctaTitle,eventLabel:g.videoName})}).on("click",".quickviewbutton",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:b,eventAction:c(this).find("span").text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim(),eventLabel:c(this).attr("title").toLowerCase().replace(/(\r\n|\n|\r)/gm,
"").trim()})}).off("click.learnmore").on("click.learnmore",".js_learnmorebutton",function(){"SUMMERLOOK-2017"!==d.util.getParameterValueFromUrl("lpid")&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:b,eventAction:c(this).find("span").text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim(),eventLabel:c(this).attr("data-product-name").toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim()})}).on("click",".ritual-btn",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",
eventCategory:b,eventAction:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim(),eventLabel:c(this).closest(".ritual-global").find(".ritual-title").text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim()})}).on("click","a.video-control-navigation",function(){g.videoName=c(this).closest(".video-container").find(".video-infos-container h2").text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim();g.ctaTitle=c(this).find(".watch-movie").text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim()}).on("click",
".social-infos-container .social-btn",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:b,eventAction:c(this).text().toLowerCase().replace(/(\r\n|\n|\r)/gm,"").trim(),eventLabel:"social network"})}).on("click",".social-keep .icon",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:b,eventAction:""!=c(this).attr("data-provider")?"follow::"+c(this).attr("data-provider"):"",eventLabel:"social network"})}).on("click",".image-bloc .image-link",
function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:b,eventAction:"design "+c(this).closest(".image-bloc").attr("data-index"),eventLabel:"explore"})}).on("click",".js_learnmorebutton",qa).on("click","#images-slider .slider-arrow",ra).on("click",".slideshow-items .images.link",sa).on("click","#cross-slider .slider-arrow",ta).on("click",".playlist-content .button, a.instagram-icon",ua).on("click","#univers-slider .slider-arrow",Z).on("click",".image-bloc .image-link",
aa).on("click",".product_detail .product_name.button",va.bind(null,b)).on("click",".ui-tabs-anchor",ba).on("click",".quickviewbutton",ca.bind(null,b)).on("click","#univers-slider .slider-arrow",Z).on("click",".image-bloc .image-link",aa).on("click",".product_name.button",wa).on("click",".ui-tabs-anchor",ba).on("click",".quickviewbutton",ca).on("click",".hp-find-inspiration .details .title a",xa).on("click",".hp-find-inspiration .details .link a",za).on("click",".module_iconic-red_other-colors .content-item_title a",
ya).on("click",".module_iconic-red_other-colors .content-item_link a",Aa).on("click",".videos-products-carousel .jcarousel-control",da.bind(null,a)).on("click",".details_view",Ca.bind(null,b)).on("click",".details_shop-now",Da.bind(null,b)).on("click",".details_link a",Ea.bind(null,b)).on("click",".focus-on-item a",Fa).on("click","a.product-button",Ga).on("click",".module_holiday-season-2017_tools .vertically-centered-desktop",Ha).on("click",".product_name.button",Ba).on("click",".videos-products-carousel .jcarousel-control",
da)}})},menuPromotionImpressions:function(){var a=this;f.document.on("menu.expanded",function(b,d){var e=[];a.menuExpanded=a.menuExpanded||{};"undefined"===typeof a.menuExpanded[d.item]&&(c(".cat_"+d.item).find("[data-tracking-promotion-impression]").each(function(a,b){var d=c(b).data("tracking-promotion-impression");e.push(d);c(b).parent().on("click","a",function(){z([d],"Click")})}),e.length&&z(e,"Impressions"),a.menuExpanded[d.item]=!0)})},searchPromoBlocksImpressions:function(){f.document.ready(function(){var a=
[];c(".search_result_content [data-tracking-promotion-impression]").each(function(b,d){var e=c(d).data("tracking-promotion-impression");a.push(e);c(d).on("click",function(){z([e],"Click")})});a.length&&z(a,"Impressions")})},handleHistory:function(){window.onpopstate=function(a){a.state&&(-1!=a.state.virtualPageURL.indexOf("identification")&&c("[data-section-id\x3dlogin]").find("button.js_checkout_sections_edit").click(),-1!=a.state.virtualPageURL.indexOf("samples")&&c("[data-section-id\x3dsamples]").find("button.js_checkout_sections_edit").click(),
-1!=a.state.virtualPageURL.indexOf("shipping-info")&&c("[data-section-id\x3daddresses]").find("button.js_checkout_sections_edit").click())}},howToVideosProductImpressions:function(a){f.document.ready(function(){var b=[];c(".video-related-products-container").find("div.product_tile").each(function(a,d){var e=c(d).parent().find("span[data-product-impression]"),f=e.data("product-impressionid");if(0<e.length){var g=c.extend({},e.data("product-impression")[f]);g.list="cross-sell";g.position=a+1;b.push(g);
c(d).on("click","a",function(){y(e.data("product-impression")[f],g.list)})}});b.length&&v(b,a.config.currencyCode)})},multipleAddToCart:function(a){f.document.ready(function(){c(".addalltocartbutton").on("click",function(){var b=[];c(this).closest(".video-related-products-container").find(".product_tile_wrapper").each(function(a,d){a=c(d).find("span[data-product-impression]");d=a.data("product-impressionid");a=c.extend({},a.data("product-impression")[d]);a.quantity=1;b.push(a)});b.length&&F(b,a.config.currencyCode)})})},
quizResults:function(a){function b(a){"undefined"!==typeof e.quizInfo&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:e.quizInfo.eventCategory,eventAction:a,eventLabel:e.quizInfo.eventLabel})}var e=this;f.document.on("quiz.submitResultsRedirect",function(a,b){a=[];var e,f;for(f in b){var g=c('[value\x3d"'+b[f]+'"]').nextAll("p.title").first();g.length||(g=c("div.popwater-description:visible"));g.length&&a.push(g.text().toLowerCase().trim())}c("h1.title").length?e=c("h1.title").clone().children().remove().end().text():
c("div.title h1").length?e=c("div.title h1").text():c(".sahariennes-top-title").length?e=c(".sahariennes-top-title .title").text():c(".popwater-pagetitle").length&&(e=c(".popwater-pagetitle strong").text());d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:e.toLowerCase().trim(),eventAction:"select",eventLabel:a.join("_")});b={eventCategory:encodeURIComponent(e.toLowerCase().trim()),eventLabel:encodeURIComponent(a.join("_"))};d.util.setCookie("quizLayer",JSON.stringify(b),{expires:3600,
path:"/"})});f.document.ready(function(){if(a.config.quizResult){var b=d.util.getCookie("quizLayer");b&&(b=JSON.parse(decodeURIComponent(b)),e.quizInfo={eventCategory:decodeURIComponent(b.eventCategory),eventLabel:decodeURIComponent(b.eventLabel)})}});f.document.on("click",".add_to_cart",function(){"undefined"!==typeof e.quizInfo&&b("addtobag")});f.document.on("click",".learnmorelink",function(){"undefined"!==typeof e.quizInfo&&b(c(this).text().trim().toLowerCase())});f.document.on("click",".quiz-restart, .quiz_restart",
function(){"undefined"!==typeof e.quizInfo&&b("restart")});f.document.on("click",".rpc-btn",function(){if("undefined"!==typeof e.quizInfo){var a,d=c(this).attr("class");["facebook","twitter","tumblr","pinterest"].forEach(function(b){-1!=d.indexOf(b)&&(a=b)});b("socialnetworks::"+a)}})},lipcomparatorResultProductImpressions:function(a){f.document.on("quiz.submitResultsCompleted",function(){var b=[];c(".quiz_result_content").find("div.product_tile").find("div.product_tile").each(function(a,d){var e=
c(d).parent().find("span[data-product-impression]"),f=e.data("product-impressionid");if(0<e.length){var g=c.extend({},e.data("product-impression")[f]);g.list="lip finder";g.position=a+1;b.push(g);c(d).on("click","a",function(){y(e.data("product-impression")[f],g.list)})}});b.length&&v(b,a.config.currencyCode)})},quizResultProductImpressions:function(a){f.document.ready(function(){var b=[];c(".results_suggestions").find("div.product_tile").each(function(a,d){var e=c(d).parent().find("span[data-product-impression]"),
f=e.data("product-impressionid");if(0<e.length){var g=c.extend({},e.data("product-impression")[f]);g.list="get-the-look";g.position=a+1;b.push(g);c(d).on("click","a",function(){y(e.data("product-impression")[f],g.list)})}});b.length&&v(b,a.config.currencyCode)})},rpcQuickProductImpression:function(a){f.document.ready(function(){var b=[];c(".quiz-product-result").find("div.quiz-product-bloc").each(function(a,d){var e=c(d).find("span[data-product-impression]"),f=e.data("product-impressionid");if(0<
e.length){var g=c.extend({},e.data("product-impression")[f]);g.list="best sellers";g.position=a+1;b.push(g);c(d).on("click","a",function(){y(e.data("product-impression")[f],g.list)})}});b.length&&v(b,a.config.currencyCode)})},landingProductStartImpressions:function(a){c(window).on("scroll",r(function(){var b=[],e="best-sellers";void 0!=d.util.getParameterValueFromUrl("lpid")&&(e="lp::"+d.util.getParameterValueFromUrl("lpid").toLowerCase());c(".products-star.content-container").find("div.product_tile").each(function(a,
d){if(C(d)&&!c(d).hasClass("was-visited")){var f=c(d).parent().find("span[data-product-impression]"),g=f.data("product-impressionid");if(0<f.length){var h=c.extend({},f.data("product-impression")[g]);h.list=e;h.position=a+1;b.push(h);c(d).on("click","a",function(){y(f.data("product-impression")[g],h.list)});c(d).addClass("was-visited")}}});b.length&&v(b,a.config.currencyCode)},100))},landingPageCrossSellImpressions:function(a){c(window).on("scroll",r(function(){var b=[],e="cross-sell";void 0!=d.util.getParameterValueFromUrl("lpid")&&
(e="lp::"+d.util.getParameterValueFromUrl("lpid").toLowerCase());c(".cross-sell.content-container").find("div.product_tile").each(function(a,d){if(C(d)&&!c(d).hasClass("was-visited")){var f=c(d).parent().find("span[data-product-impression]"),g=f.data("product-impressionid");if(0<f.length){var h=c.extend({},f.data("product-impression")[g]);h.list=e;h.position=a+1;b.push(h);c(d).on("click","a",function(){y(f.data("product-impression")[g],h.list)});c(d).addClass("was-visited")}}});b.length&&v(b,a.config.currencyCode)},
100))},landingPageProductSliderImpressions:function(a){c(window).on("scroll",r(function(){N(a,c(".jcarousel-clip-horizontal li.contentcarousel_list_item").eq(0).find(".product_tile:not(.was-visited)"),"product slider")},100))},offers:function(){f.document.ready(function(){c(".pg_offers").find("a").each(function(a){c(this).on("click",function(){d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"offers",eventAction:"select",eventLabel:a+1+"::"+c(this).attr("href")})})})})},findStoreProduct:function(){f.document.on("click",
".storelocatoreditorialmode a",function(){var a=c("#QuickViewDialog").length?"quickviews":"product page";d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:a,eventAction:"find a store",eventLabel:c(this).closest("#pdp_section_about").find("h1.product_name").text().trim().toLowerCase()})})},passwordResetVirtual:function(a){a.pageVariables=a.config.resetSubmitted?c.extend(a.pageVariables,{virtualPageURL:"/account/reset-password-confirmation",virtualPageTitle:"account reset password confirmation"}):
c.extend(a.pageVariables,{virtualPageURL:"/account/reset-password",virtualPageTitle:"account reset password"})}},X={login:function(a){var b=H("login");G("/"+a.pageVariables.brand+"/"+a.pageVariables.country+"/identification","checkout identification - step "+b,2,a,!0);f.document.on("click","#form_registration a.submit_button",function(a){a.preventDefault();a=c(this).attr("href");window.location.href=a+"\x26source\x3dcheckout"})},samples:function(a){var b=H("samples");G("/"+a.pageVariables.brand+"/"+
a.pageVariables.country+"/samples","checkout samples - step "+b,4,a,!0);var d=[];c('div[data-section-id\x3d"samples"] button[name^\x3d"dwfrm_samples_removeSample"], div[data-section-id\x3d"samples"] button[name^\x3d"dwfrm_samples_addSample"]').each(function(b,e){e=c(e).attr("value");if(e=a.sampleImpressions[e])e.position=b+1,d.push(e)})},addresses:function(a){var b=H("addresses");G("/"+a.pageVariables.brand+"/"+a.pageVariables.country+"/shipping/info","checkout shipping addresses - step "+b,5,a,!0);
f.document.on("change","#dwfrm_billing_billingAddress_useShippingAsBillingAddress",function(){c(this).prop("checked")||d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"checkout",eventAction:"select",eventLabel:"billing info"})});f.document.on("change","#dwfrm_newsletter_checkoutSubscription_sendnewsletters",function(){c(this).prop("checked")&&d.gtm.pushEventData({event:"uaevent",ecommerce:"undefined",eventCategory:"registration",eventAction:"newsletter",eventLabel:"checkout"})})},
shipping:function(a){var b=H("shipping");d.gtm.pushEventData({event:"updatevirtualpath",virtualPageURL:"/"+a.pageVariables.brand+"/"+a.pageVariables.country+"/shipping/method",virtualPageTitle:"checkout shipping - step "+b});d.gtm.pushEventData({event:"checkout",eventCategory:"Ecommerce",eventAction:"Checkout",ecommerce:{checkout:{actionField:{step:6},products:Y(a.basketImpressions)}}})},payment:function(a){if("payment"==a.config.currentCoSection)ja(a);else{var b=H("shipping");G("/"+a.pageVariables.brand+
"/"+a.pageVariables.country+"/shipping/method","checkout shipping method - step "+b,6,a,!0)}f.document.one("click",'[data-module-id\x3d"paymentmethod"]',Qa.call(this,a));c(document).one("click",'[data-section-id\x3d"payment"] button.section_submit_button',function(){var a=c('.select_payment_method input[type\x3d"radio"]:checked'),b=c("#dwfrm_billing_paymentMethods_creditCard_type"),f=[];c(".giftcert_list").length&&f.push("gift card");a&&"CREDIT_CARD"==a.val()&&b&&b.val()?f.push(b.val().toLowerCase()):
f.push(a.val().toLowerCase());d.gtm.pushEventData({event:"checkoutOption",eventCategory:"Ecommerce",eventAction:"Checkout",ecommerce:{checkout_option:{actionField:{step:7,option:f.join("::")}}}})})},preview:function(a){var b=H("preview");G("/"+a.pageVariables.brand+"/"+a.pageVariables.country+"/review","checkout review - step "+b,8,a,!0)}},Y=function(a){return c.map(a,function(a){return[a]})},H=function(a){var b=localStorage.getItem("gtmCheckoutSteps");if(b=JSON.parse(b)){if(-1!=b.steps.indexOf(a))return b.steps.indexOf(a)+
1;b.steps.push(a);localStorage.setItem("gtmCheckoutSteps",JSON.stringify(b));return b.steps.length}},y=function(a,b){d.gtm.pushEventData({event:"productClick",eventCategory:"Ecommerce",eventAction:"Product Click",ecommerce:{click:{actionField:{list:b},products:[a]}}})},v=function(a,b){d.gtm.pushEventData({event:"uaevent",eventCategory:"Ecommerce",eventAction:"Product Impressions",ecommerce:{currencyCode:b,impressions:a}})},z=function(a,b){var c={};c["Click"==b?"promoClick":"promoView"]={promotions:a};
d.gtm.pushEventData({event:"Click"==b?"promotionClick":"uaevent",eventCategory:"Ecommerce",eventAction:"Promotion "+b,ecommerce:c})},P=function(a,b){d.gtm.pushEventData({event:"removeFromCart",eventCategory:"Ecommerce",eventAction:"Remove from Cart",ecommerce:{currencyCode:b,remove:{products:[a]}}})},F=function(a,b){d.gtm.pushEventData({event:"addToCart",eventCategory:"Ecommerce",eventAction:"Add to Cart",ecommerce:{currencyCode:b,add:{products:a}}})},W=function(a,b){a=V(a);!d.quickView.isActive()&&
(a.dimension49=0<c(".c-modiface__wrap").length?"present":"not present",0<c(".c-modiface--ready").length||-1<D.indexOf(a.dimension48))&&(a.dimension49="activated");d.gtm.pushEventData({event:"uaevent",eventCategory:"Ecommerce",eventAction:"Product Detail",numberReviews:b,ecommerce:{detail:{actionField:{},products:[a]}}})},L=function(a,b){d.gtm.pushEventData({event:"uaevent",eventCategory:"ecommerce",eventAction:a,eventLabel:b})},G=function(a,b,e,f,h){"undefined"===typeof this.isPageReloaded?(h=h?{}:
{event:"updatevirtualpath"},h=c.extend(h,{virtualPageURL:a,virtualPageTitle:b}),d.gtm.pushEventData(h),this.isPageReloaded=!0):(h={event:"updatevirtualpath",virtualPageURL:a,virtualPageTitle:b},d.gtm.pushPageData(h));var g=[];Y(f.basketImpressions).forEach(function(a){g.push(V(a))});d.gtm.pushEventData({event:"checkout",eventCategory:"Ecommerce",eventAction:"Checkout",ecommerce:{checkout:{actionField:{step:e},products:g}}})},ja=function(a){if(!this.isPaymentStepLoaded){var b=H("payment");G("/"+a.pageVariables.brand+
"/"+a.pageVariables.country+"/payment/","checkout payment - step "+b,7,a,!0);this.isPaymentStepLoaded=!0}},Qa=function(a){return function(){ja(a)}};d.gtm=d.gtm||{};d.gtm.customconfig={getEventsConfig:function(){return Oa},getEventsLib:function(){return Pa},getCheckoutSteps:function(){return X}};var f={document:c(document)}})(window.app=window.app||{},jQuery);